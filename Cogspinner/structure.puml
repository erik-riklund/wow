@startuml Cogspinner

skinparam ClassFontSize 12pt
skinparam ClassFontName Consolas
skinparam ComponentBackgroundColor GhostWhite
skinparam ComponentBorderColor #565656
skinparam ComponentFontStyle normal
skinparam ComponentFontSize 12pt
skinparam ComponentFontName Consolas
skinparam ComponentStereotypeFontName Consolas
skinparam ComponentStereotypeFontSize 10pt
skinparam ComponentStereotypeFontColor #515151
skinparam InterfaceBackgroundColor Orange
skinparam NoteFontName Franklin Gothic Medium
skinparam NoteFontSize 12pt
skinparam NoteFontColor black
skinparam NoteBackgroundColor #FEFFDD
skinparam NoteBorderColor #96968D
skinparam ArrowFontName Consolas
skinparam ArrowFontSize 10pt

component "framework" as Framework <<API>>
component "plugins" as PluginManager <<manager>>
component "plugin" as Plugin <<object>>

Framework .> PluginManager : <<expose>>
PluginManager -> Plugin : <<create>>

component "network" as Network <<controller>>

PluginManager --> Network : <<use>>
Plugin -> Network : <<use>>

component "callback" as CallbackHandler <<handler>>
component "background task" as BackgroundTaskHandler <<handler>>

Framework ..> CallbackHandler : <<expose>>
Network --> CallbackHandler : <<use>>
CallbackHandler -> BackgroundTaskHandler : <<use>>

component "event" as EventHandler <<handler>>

Plugin -> EventHandler : <<use>>
EventHandler -> CallbackHandler : <<use>>

@enduml